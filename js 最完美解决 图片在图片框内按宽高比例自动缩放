js 最完美解决 图片在图片框内按宽高比例自动缩放
2014年08月14日 15:59:35 蜉蝣撼天 阅读数 33257 标签： js 图片自动缩放 图片框 html  更多
个人分类： js html
<script type="text/javascript">
        /******最完美解决 图片在图片框内按宽高比例自动缩放！！！***/
        //Img:要放图片的img元素，onload时传参可用this
 
        //maxHeight  :img元素的高度，像素（图片框 最大高度）
 
        //maxWidth:img元素的宽度，像素（图片框 最大宽度）
        function AutoSize(Img, maxWidth, maxHeight) {
            var image = new Image();
            //原图片原始地址（用于获取原图片的真实宽高，当<img>标签指定了宽、高时不受影响）
            image.src = Img.src;  
            // 当图片比图片框小时不做任何改变 
            if (image.width < maxWidth&& image.height < maxHeight) {
                Img.width = image.width;
                Img.height = image.height;
            }
            else //原图片宽高比例 大于 图片框宽高比例,则以框的宽为标准缩放，反之以框的高为标准缩放
            {
                if (maxWidth/ maxHeight  <= image.width / image.height) //原图片宽高比例 大于 图片框宽高比例
                {
                    Img.width = maxWidth;   //以框的宽度为标准
                    Img.height = maxWidth* (image.height / image.width);
                } 
                else {   //原图片宽高比例 小于 图片框宽高比例
                    Img.width = maxHeight  * (image.width / image.height);
                    Img.height = maxHeight  ;   //以框的高度为标准
                }
            }
 
        }
